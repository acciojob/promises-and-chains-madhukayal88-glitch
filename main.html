<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Promises and Chains</title>
</head>
<body>

  <form id="form">
    <input type="number" id="age" placeholder="Enter age">
    <input type="text" id="name" placeholder="Enter name">
    <button type="submit" id="btn">Submit</button>
  </form>

  <script>
    document.addEventListener("DOMContentLoaded", function () {

      const form = document.getElementById("form");

      form.addEventListener("submit", function (e) {
        e.preventDefault();

        const age = document.getElementById("age").value;
        const name = document.getElementById("name").value;

        if (age === "" || name === "") {
          alert("Please enter valid details");
          return;
        }

        const votingPromise = new Promise((resolve, reject) => {
          setTimeout(() => {
            if (age > 18) {
              resolve();
            } else {
              reject();
            }
          }, 4000);
        });

        votingPromise
          .then(() => {
            alert(`Welcome, ${name}. You can vote.`);
          })
          .catch(() => {
            alert(`Oh sorry ${name}. You aren't old enough.`);
          });
      });

    });
  </script>

</body>
</html>
